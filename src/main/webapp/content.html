<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
</head>
<body>
<input type="button" id="btnGenerate" value="Populate DropDownList" onclick="PopulateDropDownList()" />
<hr />
<select id="ddlCustomers">
</select>
<script type="text/javascript">
    async function PopulateDropDownList() {
        //Build an array containing Customer records.

        let response = await fetch('api/content/filelist', {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json;charset=utf-8'
                },
            }
        );

        let temp = (await response.text()).valueOf();
        console.log(response);
        console.log(temp);

        var filelist = JSON.parse(temp);


        var ddlCustomers = document.getElementById("ddlCustomers");

        //Add the Options to the DropDownList.
        for (var i = 0; i < filelist.length; i++) {
            var option = document.createElement("OPTION");

            //Set Customer Name in Text part.
            //option.innerHTML = customers[i].Name;

            //Set CustomerId in Value part.
            option.innerHTML = filelist[i];


            //Add the Option element to DropDownList.
            ddlCustomers.options.add(option);
        }

        console.log(ddlCustomers.options[ddlCustomers.selectedIndex].text);
    }

    function openhtml(){
        var html = document.getElementById("ddlCustomers");
        var result = html.options[html.selectedIndex].text;
        window.location.href=result;
    }
</script>
<input type="submit" value="Submit" onclick="openhtml()" />
</body>
</html>
